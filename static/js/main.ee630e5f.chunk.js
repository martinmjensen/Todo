(this.webpackJsonptodo_bouvet=this.webpackJsonptodo_bouvet||[]).push([[0],{27:function(e,t,n){e.exports=n(46)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),c=n.n(o),i=n(14),u=(n(38),function(){return a.a.createElement("header",null,a.a.createElement("h1",{className:"title"},"Todo."),a.a.createElement("h2",{className:"sub-title"},"Todo, or not todo, that is the question."))}),s=function(e){return{type:"GET_TODOS_SUCCEEDED",payload:{todos:e}}},d=function(e){return{type:"TOGGLE_SUCCEEDED",payload:{todo:e}}},l=function(e){return{type:"ADD_TODO_SUCCEEDED",payload:{todo:e}}},p=n(21),f=(n(39),a.a.memo((function(e){var t=e.todo,n=e.handleDelete,r=e.handleToggle,o=Object(p.b)({opacity:1,from:{opacity:0},config:{duration:400}});return a.a.createElement(p.a.div,{className:"todo-item ".concat(t.completed?"checked":""),style:o,"aria-label":"Todo ".concat(t.id)},a.a.createElement("div",{className:"checkbox-container"},a.a.createElement("input",{id:t.id,type:"checkbox",onChange:function(){r(t.id)},checked:t.completed}),a.a.createElement("label",{htmlFor:t.id},t.title)),a.a.createElement("button",{onClick:function(){n(t.id)},"aria-label":"Delete todo"},a.a.createElement("span",{className:"cross-container"},a.a.createElement("span",{className:"cross"}))))}))),m=n(25),E=(n(40),a.a.memo((function(e){var t=e.title,n=e.children;return a.a.createElement("h3",{className:"section-header"},t,n)}))),O=(n(41),a.a.memo((function(e){var t=e.handleAdd,n=Object(r.useState)(""),o=Object(m.a)(n,2),c=o[0],i=o[1];return a.a.createElement("section",{className:"form-container"},a.a.createElement(E,{title:"Ny Todo"}),a.a.createElement("form",{className:"todo-form",onSubmit:function(e){e.preventDefault(),c&&(t(c),i(""))}},a.a.createElement("input",{className:"todo-text",type:"text",name:"Todo text",value:c,onChange:function(e){i(e.target.value)},placeholder:"Legg til en ny todo","aria-label":"Ny todo tekst"}),a.a.createElement("button",{type:"submit"},"Legg til")))}))),D=(n(42),function(e){var t=e.children;return a.a.createElement("section",{className:"list-container"},t)}),b=function(){var e=Object(i.c)((function(e){return e.todo})),t=Object(i.b)();Object(r.useEffect)((function(){t({type:"GET_TODOS"})}),[]);var n=function(e){t(function(e){return{type:"DELETE_TODO",payload:{id:e}}}(e))},o=function(e){t(function(e){return{type:"TOGGLE_TODO",payload:{id:e}}}(e))},c=!(e.todos.length>0),u=a.a.createElement("p",{className:"loading-text"},"Ingen todos :) Lag din f\xf8rste!");return e.isLoading&&c?u=a.a.createElement("p",{className:"loading-text"},"Loading..."):c||(u=a.a.createElement(D,null,a.a.createElement(E,{title:"Dine todos"},a.a.createElement("div",{style:{opacity:e.isLoading?"1":"0"},className:"spinner"})),e.error&&a.a.createElement("p",{className:"error-text"},"Hmm... Det skjedde dessverre en feil."),e.todos.map((function(e){return a.a.createElement(f,{todo:e,key:e.id,handleDelete:n,handleToggle:o})})))),a.a.createElement("main",null,a.a.createElement(O,{handleAdd:function(e){t({type:"ADD_TODO",payload:{todo:{title:e,completed:!1}}})}}),u)},v=function(){return a.a.createElement("div",{className:"page-container"},a.a.createElement(u,null),a.a.createElement(b,null))},T=n(9),h=n(24),y=n(26),j=n(10),x=n(15),g=n.n(x),_={isLoading:!1,todos:[],error:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"GET_TODOS":case"DELETE_TODO":case"TOGGLE_TODO":case"ADD_TODO":return Object(j.a)({},e,{isLoading:!0});case"GET_TODOS_SUCCEEDED":var a=g()(e,{todos:{$set:r.todos}});return Object(j.a)({},a,{isLoading:!1});case"DELETE_SUCCEEDED":var o=e.todos.findIndex((function(e){return e.id===r.id})),c=g()(e,{todos:{$splice:[[o,1]]}});return Object(j.a)({},c,{isLoading:!1});case"TOGGLE_SUCCEEDED":var i=e.todos.findIndex((function(e){return e.id===r.todo.id})),u=g()(e,{todos:{$splice:[[i,1,r.todo]]}});return Object(j.a)({},u,{isLoading:!1});case"ADD_TODO_SUCCEEDED":var s=g()(e,{todos:{$push:[r.todo]}});return Object(j.a)({},s,{isLoading:!1});case"GET_TODOS_FAILED":case"DELETE_FAILED":case"TOGGLE_FAILED":case"ADD_TODO_FAILED":return console.error("Server error: ".concat(r.error)),Object(j.a)({},e,{error:r.error,isLoading:!1});default:return e}},k=Object(T.combineReducers)({todo:L}),w=n(6),G=n.n(w),C=n(7),S=n(12),N=n(8),A=n(11),I="Rejected: The todo could not be found",P=function(){return new Promise((function(e){return setTimeout(e,500*Math.random())}))},F=[{id:0,title:"Buy ice cream",completed:!1},{id:1,title:"Buy rain coat",completed:!1},{id:2,title:"Eat ice cream in rain",completed:!1}],U=new(function(){function e(){Object(N.a)(this,e)}return Object(A.a)(e,[{key:"getTodoById",value:function(e){return P().then((function(){if(F.findIndex((function(t){return t.id===e}))<0)return Promise.reject(I);var t=F.find((function(t){return t.id===e}));return Promise.resolve(t)}))}},{key:"getTodos",value:function(){return P().then((function(){return Promise.resolve(F)}))}},{key:"toggleTodo",value:function(e){return P().then((function(){var t=F.findIndex((function(t){return t.id===e}));if(t<0)return Promise.reject(I);var n=Object(j.a)({},F[t],{completed:!F[t].completed});return F[t]=n,Promise.resolve(n)}))}},{key:"addTodo",value:function(e){return P().then((function(){if(!function(e){return["title","completed"].map((function(t){return t in e})).reduce((function(e,t){return e&&t}))}(e))return Promise.reject("Rejected: The todo is not valid");var t=0;F.length>0&&(t=Math.max.apply(Math,Object(S.a)(F.map((function(e){return e.id}))))+1);var n=Object(j.a)({},e,{id:t});return F=[].concat(Object(S.a)(F),[n]),Promise.resolve(n)}))}},{key:"deleteTodo",value:function(e){return P().then((function(){return F.findIndex((function(t){return t.id===e}))<0?Promise.reject(I):(F=F.filter((function(t){return t.id!==e})),Promise.resolve())}))}}]),e}()),B=G.a.mark(K),M=G.a.mark(Q),$=G.a.mark(V),R=G.a.mark(X),J=G.a.mark(Y),q=G.a.mark(Z),H=G.a.mark(ee),W=G.a.mark(te),z=G.a.mark(ne);function K(e){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.b)(U.getTodos);case 3:return t=e.sent,e.next=6,Object(C.c)(s(t));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(C.c)({type:"GET_TODOS_FAILED",payload:{error:e.t0}});case 12:case"end":return e.stop()}}),B,null,[[0,8]])}function Q(e){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.b)(U.deleteTodo,e.payload.id);case 3:return t.next=5,Object(C.c)({type:"DELETE_SUCCEEDED",payload:{id:e.payload.id}});case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(C.c)({type:"DELETE_FAILED",payload:{error:t.t0}});case 11:case"end":return t.stop()}}),M,null,[[0,7]])}function V(e){var t;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(U.toggleTodo,e.payload.id);case 3:return t=n.sent,n.next=6,Object(C.c)(d(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(C.c)({type:"TOGGLE_FAILED",payload:{error:n.t0}});case 12:case"end":return n.stop()}}),$,null,[[0,8]])}function X(e){var t;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(U.addTodo,e.payload.todo);case 3:return t=n.sent,n.next=6,Object(C.c)(l(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(C.c)({type:"ADD_TODO_FAILED",payload:{error:n.t0}});case 12:case"end":return n.stop()}}),R,null,[[0,8]])}function Y(){var e;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(C.d)("DELETE_TODO");case 3:return e=t.sent,t.next=6,Object(C.b)(Q,e);case 6:t.next=0;break;case 8:case"end":return t.stop()}}),J)}function Z(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)("GET_TODOS",K);case 2:case"end":return e.stop()}}),q)}function ee(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)("TOGGLE_TODO",V);case 2:case"end":return e.stop()}}),H)}function te(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)("ADD_TODO",X);case 2:case"end":return e.stop()}}),W)}function ne(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([Z(),Y(),ee(),te()]);case 2:case"end":return e.stop()}}),z)}var re=Object(y.a)(),ae=Object(T.createStore)(k,Object(h.composeWithDevTools)(Object(T.applyMiddleware)(re)));re.run(ne);var oe=ae;n(45);c.a.render(a.a.createElement(i.a,{store:oe},a.a.createElement(v,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ee630e5f.chunk.js.map